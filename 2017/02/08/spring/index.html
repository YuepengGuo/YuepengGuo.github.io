<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="thinking and tools to make it real" />





  <link rel="alternate" href="/atom.xml" title="逻辑下的数据" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="Spring docSpring docs. JPAJPA Specification : hibernate, openjpa, toplink and so on. Config jpa in spring by defining two beans, datesource and entityManagerFactory. Entity reflect database foreign ke">
<meta property="og:type" content="article">
<meta property="og:title" content="spring">
<meta property="og:url" content="http://yoursite.com/2017/02/08/spring/index.html">
<meta property="og:site_name" content="逻辑下的数据">
<meta property="og:description" content="Spring docSpring docs. JPAJPA Specification : hibernate, openjpa, toplink and so on. Config jpa in spring by defining two beans, datesource and entityManagerFactory. Entity reflect database foreign ke">
<meta property="og:image" content="http://yoursite.com/images/ManyToMany.png">
<meta property="og:updated_time" content="2017-05-08T06:19:54.758Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="spring">
<meta name="twitter:description" content="Spring docSpring docs. JPAJPA Specification : hibernate, openjpa, toplink and so on. Config jpa in spring by defining two beans, datesource and entityManagerFactory. Entity reflect database foreign ke">
<meta name="twitter:image" content="http://yoursite.com/images/ManyToMany.png">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"always"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/2017/02/08/spring/"/>

  <title> spring | 逻辑下的数据 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">逻辑下的数据</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Mushin (No Mind)</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                spring
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-02-08T05:58:24+00:00" content="2017-02-08">
              2017-02-08
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="Spring-doc"><a href="#Spring-doc" class="headerlink" title="Spring doc"></a>Spring doc</h2><p><a href="http://docs.spring.io/spring-boot/docs/current/reference/html/index.html" target="_blank" rel="external">Spring docs</a>.</p>
<h2 id="JPA"><a href="#JPA" class="headerlink" title="JPA"></a>JPA</h2><p>JPA Specification : hibernate, openjpa, toplink and so on.</p>
<p>Config jpa in spring by defining two beans, datesource and entityManagerFactory.</p>
<p>Entity reflect database foreign keys and relationship in class attributes.</p>
<p>Check<br><a href="http://docs.oracle.com/javaee/7/api/javax/persistence/OneToMany.html" target="_blank" rel="external">OneToMany docs</a>.</p>
<p>Keywords: </p>
<p>Role,Direction(unidirectional,bidirectional),Cardinality,Ordinality.<br>Owner Entity, Non-owner Entity, Source, Target.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">@Entity</div><div class="line">@Table(name=&quot;user&quot;)</div><div class="line">public class User implements Serializable&#123;</div><div class="line">	@OneToMany</div><div class="line">	private Set&lt;Transaction&gt; transactions = new LinkedHashSet&lt;Transaction&gt;();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Specifying Many as the second part declares that the origin entity (User) can have several target Entities (Transactions). These targets will have to be wrapped in a collection type. If the origin entity cannot have several targets, then the second part of the relationship has to be One.</p>
<p>A Transaction can have only one User entity.</p>
<p>We can then deduce the two annotations: @OneToMany in User and @ManyToOne in Transactions.</p>
<a id="more"></a>
<p>JoinColumns are nothing but a Foreign Key Columns.<br>JPA calls them Join Columns, possibly because they are more verbose in what their actual role is, to join the two entities using a common column.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">@Entity</div><div class="line">public class Employee implements Serializable&#123;</div><div class="line">	@ManyToOne</div><div class="line">	private Department department;</div><div class="line">&#125;</div><div class="line"></div><div class="line">/**or**/</div><div class="line">/**ManyToOne mapping are defined on the owner entity.**/</div><div class="line">@Entity</div><div class="line">public class Employee implements Serializable&#123;</div><div class="line">	@Id private int id;</div><div class="line"></div><div class="line">	@ManyToOne</div><div class="line">	@JoinColumn(name=&quot;DEPT_ID&quot;)</div><div class="line">	private Department department;</div><div class="line">	//otherwise, default name will be department_id</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Bidirectional-OneToOne-Mapping"><a href="#Bidirectional-OneToOne-Mapping" class="headerlink" title="Bidirectional OneToOne Mapping."></a>Bidirectional OneToOne Mapping.</h3><p>We know that the owner always have a JoinColumn annotation. In the case of OneToOne mapping, any entity can be the owner. The other non-owner entity then has to provide the mappedBy attribute value to indicate that it is not the owner of the relationship. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">@Entity</div><div class="line">public class Job &#123;</div><div class="line">    @Id private int id;</div><div class="line">    private String designation;</div><div class="line">    private String location;</div><div class="line">    @OneToOne(mappedBy=&quot;job&quot;)</div><div class="line">    private Person person;</div><div class="line">    //the mappedBy attribute refers to the attribute name job, defined in the source entity Person.</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="OneToMany"><a href="#OneToMany" class="headerlink" title="OneToMany"></a>OneToMany</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">@Entity</div><div class="line">public class Book &#123;</div><div class="line">    @Id private int id;</div><div class="line">    @OneToMany</div><div class="line">    @JoinColumn(name=&quot;BOOK_ID&quot;) // BOOK_ID exists in the BookMark table</div><div class="line">    private List bookMarks;</div><div class="line">    // ... </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Bidirectional-OneToMany-Mapping"><a href="#Bidirectional-OneToMany-Mapping" class="headerlink" title="Bidirectional OneToMany Mapping"></a>Bidirectional OneToMany Mapping</h3><p>When the relationship is bidirectional, there are normally two associations defined :<br>one from source to target entity(having the JoinColumn annotation) ,<br>and the other from target to source entity(having the mapped by attribute ).<br>OneToMany bidirectional mapping always implies a ManyToOne mapping back to the source.<br>Another important thing to remember from the previous discussion about ManyToOne mapping is that if theres is a ManyToOne mapping, then the JoinColumn annotation will always be defined on the ManyToOne mapping attribute. Thus in case of Bidirectional OneToMany mapping, the JoinColumn will exists on the entity having ManyToOne annotation. </p>
<h3 id="Bidirectional-ManyToMany-Mapping"><a href="#Bidirectional-ManyToMany-Mapping" class="headerlink" title="Bidirectional ManyToMany Mapping"></a>Bidirectional ManyToMany Mapping</h3><p>We do that by defining the mappedBy attribute of the relationship on the target entity.<br>Note that since the multiplicity of both the sides of the relationship is plural, it is not possible(or feasible/correct) to store an iunlimited set of foreign key values in a single entity row.<br>We should use the third table to associate the two entities.<br>This third table is called the <del>JoinTable</del>.<br>A Join Table is a requirement for a ManyToMany relationship.<br>A JoinTable consists of the Primary Keys from both the entities and nothing else. Here is an example of ManyToMany relationship from Pro JPA2 book.</p>
<p><img src="/images/ManyToMany.png" alt=""></p>
<p>In the above example, the Employee and Project table are two entities related with ManyToMany relationship. EMP_PROJ table is the JoinTable that is used to store the entity reference for each of the table.<br>In JPA, we use the @JoinTable annotation to define a Join Table for the Many to Many relationship. Here is an example</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Entity</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Employee</span> </span>&#123;</div><div class="line">    <span class="meta">@Id</span> <span class="keyword">private</span> <span class="keyword">int</span> id;</div><div class="line">    <span class="keyword">private</span> String name;</div><div class="line">    <span class="meta">@ManyToMany</span></div><div class="line">    <span class="meta">@JoinTable</span>(name=<span class="string">"EMP_PROJ"</span>,</div><div class="line">          joinColumns=<span class="meta">@JoinColumn</span>(name=<span class="string">"EMP_ID"</span>),</div><div class="line">          inverseJoinColumns=<span class="meta">@JoinColumn</span>(name=<span class="string">"PROJ_ID"</span>))</div><div class="line">    <span class="keyword">private</span> Collection projects;</div><div class="line">    <span class="comment">// ...</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>The JoinTable annotation has a name attribute which corresponds to the name of the Join Table. It also has two other attributes :</li>
</ul>
<ul>
<li>joinColumns which is the column name of the owning Entity</li>
</ul>
<ul>
<li>inverseJoinColumns which is the column name of the inverse or non owning Entity. </li>
</ul>
<h2 id="JPA-Criteria"><a href="#JPA-Criteria" class="headerlink" title="JPA Criteria"></a>JPA Criteria</h2><p>to build query programmatically, define where clause of a query for a domain class.</p>
<p>Eric Evans “Domain Driven Design”</p>
<ul>
<li><p><a href="http://blog.kaczmarzyk.net/2014/03/23/alternative-api-for-filtering-data-with-spring-mvc-and-spring-data/" target="_blank" rel="external">SpecificationArgumentResolver with Filter Spec</a>.</p>
</li>
<li><p><a href="http://ankushs92.github.io/tutorial/2016/05/03/pagination-with-spring-boot.html" target="_blank" rel="external">Easy Pagination with Spring Boot</a>.</p>
</li>
</ul>
<h2 id="Exception-Handler"><a href="#Exception-Handler" class="headerlink" title="Exception Handler"></a>Exception Handler</h2><ul>
<li><a href="https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc" target="_blank" rel="external">@ControllerAdvice</a></li>
<li><a href="http://mvc-exceptions-v2.cfapps.io/" target="_blank" rel="external">Demo of Exception</a></li>
</ul>
<h2 id="CommandLineRunner-init"><a href="#CommandLineRunner-init" class="headerlink" title="CommandLineRunner#init"></a>CommandLineRunner#init</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@SpringBootApplication</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        SpringApplication.run(Application.class, args);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Bean</span></div><div class="line">  <span class="function">CommandLineRunner <span class="title">init</span><span class="params">(CustomerRespository repo)</span> </span>&#123;</div><div class="line">  <span class="keyword">return</span> (evt) -&gt;  &#123;</div><div class="line">    repo.save(<span class="keyword">new</span> Customer(<span class="string">"Adam"</span>,<span class="string">"adam@boot.com"</span>));</div><div class="line">    repo.save(<span class="keyword">new</span> Customer(<span class="string">"John"</span>,<span class="string">"john@boot.com"</span>));</div><div class="line">    repo.save(<span class="keyword">new</span> Customer(<span class="string">"Smith"</span>,<span class="string">"smith@boot.com"</span>));</div><div class="line">    repo.save(<span class="keyword">new</span> Customer(<span class="string">"Edgar"</span>,<span class="string">"edgar@boot.com"</span>));</div><div class="line">    repo.save(<span class="keyword">new</span> Customer(<span class="string">"Martin"</span>,<span class="string">"martin@boot.com"</span>));</div><div class="line">    repo.save(<span class="keyword">new</span> Customer(<span class="string">"Tom"</span>,<span class="string">"tom@boot.com"</span>));</div><div class="line">    repo.save(<span class="keyword">new</span> Customer(<span class="string">"Sean"</span>,<span class="string">"sean@boot.com"</span>));</div><div class="line">  &#125;;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Actuators-monitor-and-manage-boot-application"><a href="#Actuators-monitor-and-manage-boot-application" class="headerlink" title="Actuators monitor and manage boot application"></a>Actuators monitor and manage boot application</h2><h2 id="Richardson’s-maturity-model"><a href="#Richardson’s-maturity-model" class="headerlink" title="Richardson’s maturity model"></a>Richardson’s maturity model</h2><ul>
<li>level 0 : http</li>
<li>level 1 : resources</li>
<li>level 2 : http verbs</li>
<li>level 3 : hypermedia controls (make it discoverable through the use of hyperlinks, like HATEOAS)</li>
</ul>
<h2 id="view-resolver"><a href="#view-resolver" class="headerlink" title="view resolver"></a>view resolver</h2><h3 id="render"><a href="#render" class="headerlink" title="render"></a>render</h3><p><a href="http://docs.spring.io/spring-boot/docs/current/reference/html/howto-spring-mvc.html" target="_blank" rel="external">Spring MVC</a>.</p>
<h2 id="Logging"><a href="#Logging" class="headerlink" title="Logging"></a>Logging</h2><p><a href="http://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html" target="_blank" rel="external">Spring Logging</a>.</p>
<h2 id="Events"><a href="#Events" class="headerlink" title="Events"></a>Events</h2><p><a href="http://zoltanaltfatter.com/2016/05/11/application-events-with-spring/" target="_blank" rel="external">Spring Events</a>.<br><a href="https://www.keyup.eu/en/blog/101-synchronous-and-asynchronous-spring-events-in-one-application" target="_blank" rel="external">Spring Events</a>.</p>
<h2 id="run-in-community-intellij"><a href="#run-in-community-intellij" class="headerlink" title="run in community intellij"></a>run in community intellij</h2><p>we can do it with embedded tomcat</p>
<p>mvn tomcat7:run</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.tomcat.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>tomcat7-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">path</span>&gt;</span>/<span class="tag">&lt;/<span class="name">path</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="Spring-Server-Sent-Events"><a href="#Spring-Server-Sent-Events" class="headerlink" title="Spring Server-Sent Events"></a>Spring Server-Sent Events</h2><p>opening an HTTP connection for receiving push notifications from a server in the form of DOM events.</p>
<h2 id="Spring-Boot-Starters"><a href="#Spring-Boot-Starters" class="headerlink" title="Spring Boot Starters"></a>Spring Boot Starters</h2><p><a href="https://github.com/spring-projects/spring-boot/blob/master/spring-boot-starters/spring-boot-starter-web/pom.xml" target="_blank" rel="external">Spring Starters</a>.</p>
<p><a href="https://github.com/spring-projects/spring-boot/blob/master/spring-boot-starters/spring-boot-starter-web/src/main/resources/META-INF/spring.provides" target="_blank" rel="external">Starters Providers</a>.</p>
<p>By having this starter as our dependency, we will transitively get the … dependency libraries in our build.</p>
<p>The starter POM file itself does not add JAR dependencies to the project. Instead, it will only add library versions. Subsequently, when dependencies are added to the POM file, they refer to the library versions from this POM file</p>
<h2 id="Beans"><a href="#Beans" class="headerlink" title="Beans"></a>Beans</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">@Value(&quot;$&#123;github.token&#125;&quot;)</div><div class="line">String githubToken;</div><div class="line"></div><div class="line"></div><div class="line">@Bean</div><div class="line">public GitHubTemplate gitHubTemplate()&#123;</div><div class="line">    return new GitHubTemplate(githubToken);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="AttributeConverter"><a href="#AttributeConverter" class="headerlink" title="AttributeConverter"></a>AttributeConverter</h2><p><a href="http://www.thoughts-on-java.org/jpa-21-how-to-implement-type-converter/" target="_blank" rel="external">Spring JPA Attribute Converter</a>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">package org.hibernate.test.converter.map;</div><div class="line"></div><div class="line">import javax.persistence.AttributeConverter;</div><div class="line">import javax.persistence.Converter;</div><div class="line"></div><div class="line">/**</div><div class="line"> * @author Steve Ebersole</div><div class="line"> */</div><div class="line">@Converter(autoApply = true)</div><div class="line">public class ColorTypeConverter implements AttributeConverter&lt;ColorType, String&gt; &#123;</div><div class="line"></div><div class="line">    @Override</div><div class="line">    public String convertToDatabaseColumn(ColorType attribute) &#123;</div><div class="line">        return attribute == null ? null : attribute.toExternalForm();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Override</div><div class="line">    public ColorType convertToEntityAttribute(String dbData) &#123;</div><div class="line">        return dbData == null ? null : ColorType.fromExternalForm( dbData );</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Composable-annotation"><a href="#Composable-annotation" class="headerlink" title="Composable annotation"></a>Composable annotation</h2>
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/01/09/prob/" rel="next" title="prob">
                <i class="fa fa-chevron-left"></i> prob
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/02/16/architecture/" rel="prev" title="architecture">
                architecture <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/gyp.jpg"
               alt="简单复杂哥" />
          <p class="site-author-name" itemprop="name">简单复杂哥</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">27</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="http://github.com/guotechfin" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring-doc"><span class="nav-number">1.</span> <span class="nav-text">Spring doc</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JPA"><span class="nav-number">2.</span> <span class="nav-text">JPA</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Bidirectional-OneToOne-Mapping"><span class="nav-number">2.1.</span> <span class="nav-text">Bidirectional OneToOne Mapping.</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OneToMany"><span class="nav-number">2.2.</span> <span class="nav-text">OneToMany</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Bidirectional-OneToMany-Mapping"><span class="nav-number">2.3.</span> <span class="nav-text">Bidirectional OneToMany Mapping</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Bidirectional-ManyToMany-Mapping"><span class="nav-number">2.4.</span> <span class="nav-text">Bidirectional ManyToMany Mapping</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JPA-Criteria"><span class="nav-number">3.</span> <span class="nav-text">JPA Criteria</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Exception-Handler"><span class="nav-number">4.</span> <span class="nav-text">Exception Handler</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CommandLineRunner-init"><span class="nav-number">5.</span> <span class="nav-text">CommandLineRunner#init</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Actuators-monitor-and-manage-boot-application"><span class="nav-number">6.</span> <span class="nav-text">Actuators monitor and manage boot application</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Richardson’s-maturity-model"><span class="nav-number">7.</span> <span class="nav-text">Richardson’s maturity model</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#view-resolver"><span class="nav-number">8.</span> <span class="nav-text">view resolver</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#render"><span class="nav-number">8.1.</span> <span class="nav-text">render</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Logging"><span class="nav-number">9.</span> <span class="nav-text">Logging</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Events"><span class="nav-number">10.</span> <span class="nav-text">Events</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#run-in-community-intellij"><span class="nav-number">11.</span> <span class="nav-text">run in community intellij</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring-Server-Sent-Events"><span class="nav-number">12.</span> <span class="nav-text">Spring Server-Sent Events</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring-Boot-Starters"><span class="nav-number">13.</span> <span class="nav-text">Spring Boot Starters</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Beans"><span class="nav-number">14.</span> <span class="nav-text">Beans</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AttributeConverter"><span class="nav-number">15.</span> <span class="nav-text">AttributeConverter</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Composable-annotation"><span class="nav-number">16.</span> <span class="nav-text">Composable annotation</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">简单复杂哥</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  

  

  

  

</body>
</html>
